# =======================================
# CORE ENVIRONMENT SETTINGS
# =======================================
# Node environment: development, production, test
NODE_ENV=development

# Base URL of the application (used for links, callbacks, etc.)
APP_URL=http://localhost:3000

# Alternative base URL for local development (used if APP_URL is not set)
BASE_URL=http://localhost:5000

# Port configuration for server
PORT=5000

# Database connection
DATABASE_URL=postgresql://postgres:password@localhost:5432/esim_platform
DATABASE_CA_CERT=

# =======================================
# AUTHENTICATION & SECURITY
# =======================================
# Secret for session management - must be sufficiently random and long
SESSION_SECRET=your_session_secret_here

# =======================================
# STRIPE INTEGRATION
# =======================================
# Stripe secret API key (server-side)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe webhook secret for verifying webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Stripe public key for client-side (must be prefixed with VITE_ for client access)
VITE_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key

# =======================================
# EMAIL CONFIGURATION (SENDGRID)
# =======================================
# SendGrid API key for email sending
SENDGRID_API_KEY=your_sendgrid_api_key

# Email address to use as sender (must be verified in SendGrid)
SENDER_EMAIL=your_verified_sender@example.com

# =======================================
# ESIM PROVIDER API
# =======================================
# eSIM provider access code
ESIM_ACCESS_CODE=your_esim_access_code

# eSIM provider secret key
ESIM_ACCESS_SECRET=your_esim_access_secret

# =======================================
# CLIENT-SIDE SETTINGS (VITE)
# =======================================
# API URL for client to connect to (used in development)
VITE_API_URL=http://localhost:5000

# =======================================
# DB USAGE MONITOR (SADMIN-ONLY)
# =======================================
# Enable DB usage monitoring (dual-cron, 24h throttle)
USAGE_MONITOR_ENABLED=true

# Cron schedules for monitoring
CONN_MONITOR_CRON="*/5 * * * *"
STORAGE_MONITOR_CRON="0 * * * *"

# Alert threshold (0.9 = 90%)
USAGE_THRESHOLD=0.9

# Neon free-tier limits
NEON_FREE_TIER_BYTES=1073741824
NEON_MAX_CONN=3

# Alert recipient email
ALERT_EMAIL_TO="yateshaw@gmail.com"